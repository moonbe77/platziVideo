!function(e){function t(t){for(var a,o,i=t[0],l=t[1],s=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);p.length;)p.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;c.push([48,1]),n()}({40:function(e,t,n){e.exports=n.p+"assets/7104263cc7ae188d7e1275934c32a378.png"},41:function(e,t,n){e.exports=n.p+"assets/5a89d07e023cabc9bd46b8ef3e33b9c3.png"},43:function(e,t,n){e.exports=n.p+"assets/9a1e4bf4f3cb0556c15a96c17808dbf7.png"},44:function(e,t,n){e.exports=n.p+"assets/82e73f0c9de0d9e64a4f7eb6917fe799.png"},45:function(e,t,n){e.exports=n.p+"assets/1baf6f54be269d1d45a5ebb09a788ded.png"},46:function(e,t,n){e.exports=n.p+"assets/87fee39f3ffc377fa871d31587cc532c.png"},47:function(e,t,n){e.exports=n.p+"assets/0103ef81347edc3344acec319325eb81.png"},48:function(e,t,n){e.exports=n(94)},80:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),i=n(2),l=n(12),s=n(8),u=n(3),m=n(37),p=n(38),f=n.n(p),d=n(10),E=n.n(d);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){switch(t.type){case"SET_FAVORITE":return b({},e,{myList:[].concat(f()(e.myList),[t.payload])});case"DELETE_FAVORITE":return b({},e,{myList:e.myList.filter((function(e){return e.id!==t.payload}))});case"LOGIN_REQUEST":case"LOGOUT_REQUEST":case"REGISTER_REQUEST":return b({},e,{user:t.payload});case"SET_ERROR":return b({},e,{error:t.payload});case"GET_VIDEO_SOURCE":return b({},e,{playing:e.trends.find((function(e){return e.id===t.payload}))||e.originals.find((function(e){return e.id===t.payload}))||[]});default:return e}},O=n(7),h=n(18),v=n.n(h),_=n(13),j=n.n(_),w=n(16),N=n.n(w),P=n(39),R=n.n(P),S=function(e){var t=e.trim().toLowerCase(),n=R()(t,{encoding:"binary"});return"".concat("https://gravatar.com/avatar/").concat(n)},T=function(e){return{type:"SET_ERROR",payload:e}},k=(n(80),n(40)),x=n.n(k),D=n(41),L=n.n(D),I={logoutRequest:function(e){return{type:"LOGOUT_REQUEST",payload:e}}},C=Object(i.b)((function(e){return{user:e.user,error:e.error}}),I)((function(e){var t=e.user,n=e.isLogin,a=e.isRegister,c=e.error,o=Object.keys(t).length>0,i=N()("header",{isLogin:n,isRegister:a});return r.a.createElement("header",{className:i},r.a.createElement(O.b,{to:"/"},r.a.createElement("img",{className:"header__img",src:x.a,alt:"Platzi Video"})),r.a.createElement("div",null,c?c.message:"no error"),r.a.createElement("div",{className:"header__menu"},r.a.createElement("div",{className:"header__menu--profile"},o?r.a.createElement("img",{src:S(t.email),alt:t.email}):r.a.createElement("img",{src:L.a,alt:""}),r.a.createElement("p",null,"Perfil")),r.a.createElement("ul",null,o?r.a.createElement("li",null,r.a.createElement("a",{href:"/"},t.name)):null,o?r.a.createElement("li",null,r.a.createElement("a",{href:"#logout",onClick:function(){document.cookie="email=",document.cookie="name=",document.cookie="id=",document.cookie="token=",e.logoutRequest({}),window.location.href="/login"}},"Cerrar Sesión")):r.a.createElement("li",null,r.a.createElement(O.b,{to:"/login"},"Iniciar sesión")))))})),U=(n(82),function(e){var t=e.isHome,n=N()("input",{isHome:t});return r.a.createElement("section",{className:"main"},r.a.createElement("h2",{className:"main__title"},"¿Qué quieres ver hoy?"),r.a.createElement("input",{type:"text",className:n,placeholder:"Buscar..."}))}),F=(n(83),function(e){var t=e.children,n=e.title;return r.a.createElement("div",{className:"categories"},r.a.createElement("h3",{className:"categories__title"},n),t)}),V=(n(84),function(e){var t=e.children;return r.a.createElement("section",{className:"carousel"},r.a.createElement("div",{className:"carousel__container"},t))}),A=n(6),G=n.n(A),q=(n(85),n(43)),M=n.n(q),Q=n(44),H=n.n(Q),B=n(45),z=n.n(B),J=function(e){var t=e.id,n=e.cover,a=e.title,c=e.year,o=e.contentRating,i=e.duration,l=e.isList;return r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"carousel-item__img",src:n,alt:a}),r.a.createElement("div",{className:"carousel-item__details"},r.a.createElement("div",null,r.a.createElement(O.b,{to:"/player/".concat(t)},r.a.createElement("img",{className:"carousel-item__details--img",src:M.a,alt:"Play Icon"})),l?r.a.createElement("img",{className:"carousel-item__details--img",src:z.a,alt:"Plus Icon",onClick:function(){return n=t,void e.deleteFavorite(n);var n}}):r.a.createElement("img",{className:"carousel-item__details--img",src:H.a,alt:"Plus Icon",onClick:function(){e.setFavorite({id:t,cover:n,title:a,year:c,contentRating:o,duration:i})}})),r.a.createElement("p",{className:"carousel-item__details--title"},a),r.a.createElement("p",{className:"carousel-item__details--subtitle"},"".concat(c," ").concat(o," ").concat(i))))};J.propTypes={cover:G.a.string,title:G.a.string,year:G.a.number,contentRating:G.a.string,duration:G.a.number};var X={setFavorite:function(e){return{type:"SET_FAVORITE",payload:e}},deleteFavorite:function(e){return{type:"DELETE_FAVORITE",payload:e}}},K=Object(i.b)(null,X)(J),W=(n(86),Object(i.b)((function(e){return{myList:e.myList,trends:e.trends,originals:e.originals}}),null)((function(e){var t=e.myList,n=e.trends,a=e.originals,c=[];return t.map((function(e){j.a.get("/movies/".concat(e.movieId)).then((function(e){c.push(e.data)})).then((function(e){console.log(c)}))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(U,{isHome:!0}),t.length>0&&r.a.createElement(F,{title:"Mi Lista"},r.a.createElement(V,null,t.map((function(e){return r.a.createElement(K,v()({key:e.id},e,{isList:!0}))})))),r.a.createElement(F,{title:"Tendencias"},r.a.createElement(V,null,n.map((function(e){return r.a.createElement(K,v()({key:e.id},e))})))),r.a.createElement(F,{title:"Originales de Platzi Video"},r.a.createElement(V,null,a.map((function(e){return r.a.createElement(K,v()({key:e.id},e))})))))}))),Y=n(17),Z=n.n(Y),$=(n(90),n(46)),ee=n.n($),te=n(47),ne=n.n(te);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var re={loginUser:function(e,t){var n=e.email,a=e.password;return function(e){j()({url:"/auth/sign-in",method:"post",auth:{username:n,password:a}}).then((function(e){var t=e.data,n=t.user,a=n.email,r=n.name,c=n.id;document.cookie="email=".concat(a),document.cookie="name=".concat(r),document.cookie="id=".concat(c),document.cookie="token=".concat(t.token)})).then((function(){window.location.href=t})).catch((function(t){return e(T(t))}))}}},ce=Object(i.b)(null,re)((function(e){var t=Object(a.useState)({email:""}),n=Z()(t,2),c=n[0],o=n[1],i=function(e){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,E()({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{isLogin:!0}),r.a.createElement("section",{className:"login"},r.a.createElement("section",{className:"login__container"},r.a.createElement("h2",null,"Inicia sesión"),r.a.createElement("form",{className:"login__container--form",onSubmit:function(t){t.preventDefault(),e.loginUser(c,"/")}},r.a.createElement("input",{name:"email",className:"input",type:"text",placeholder:"Correo",onChange:i}),r.a.createElement("input",{name:"password",className:"input",type:"password",placeholder:"Contraseña",onChange:i}),r.a.createElement("button",{className:"button",type:"submit"},"Iniciar sesión"),r.a.createElement("div",{className:"login__container--remember-me"},r.a.createElement("label",{htmlFor:"cbox1"},r.a.createElement("input",{type:"checkbox",id:"cbox1",value:"first_checkbox"}),"Recuérdeme"),r.a.createElement("a",{href:"/"},"Olvidé mi contraseña"))),r.a.createElement("section",{className:"login__container--social-media"},r.a.createElement("div",null,r.a.createElement("a",{href:"/auth/google"},r.a.createElement("img",{src:ee.a,alt:"Google Icon"}),"Inicia sesión con Google")),r.a.createElement("div",null,r.a.createElement("a",{href:"/auth/twitter"},r.a.createElement("img",{src:ne.a,alt:"Twitter Icon"}),"Inicia sesión con Twitter"))),r.a.createElement("p",{className:"login__container--register"},"No tienes ninguna cuenta",r.a.createElement(O.b,{to:"/register"},"Regístrate")))))}));n(91);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ie={registerUser:function(e,t){return function(n){j.a.post("/auth/sign-up",e).then((function(e){var t=e.data;return n(function(e){return{type:"REGISTER_REQUEST",payload:e}}(t))})).then((function(){console.log("REDIRECT URL>> ".concat(t)),window.location.href=t})).catch((function(e){return n(T(e))}))}}},le=Object(i.b)(null,ie)((function(e){var t=Object(a.useState)({email:"",name:"",password:""}),n=Z()(t,2),c=n[0],o=n[1],i=function(e){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,E()({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{isRegister:!0}),r.a.createElement("section",{className:"register"},r.a.createElement("section",{className:"register__container"},r.a.createElement("h2",null,"Registrarme"),r.a.createElement("form",{className:"register__container--form",onSubmit:function(t){t.preventDefault(),e.registerUser(c,"/login")}},r.a.createElement("input",{name:"name",className:"input",type:"text",placeholder:"Nombre",onChange:i,required:!0}),r.a.createElement("input",{name:"email",className:"input",type:"text",placeholder:"Correo",onChange:i,required:!0}),r.a.createElement("input",{name:"password",className:"input",type:"password",placeholder:"Contraseña",onChange:i,required:!0}),r.a.createElement("button",{className:"button",type:"submit"},"Registrarme")),r.a.createElement(O.b,{to:"/login"},"Iniciar sesión"))))})),se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"No Encontrado"),r.a.createElement("h2",null,"Regresa al Home"))},ue=(n(92),{getVideoSource:function(e){return{type:"GET_VIDEO_SOURCE",payload:e}}}),me=Object(i.b)((function(e){return{playing:e.playing}}),ue)((function(e){var t=e.match,n=e.playing,c=e.history,o=t.params.id,i=Object.keys(n).length>0;return Object(a.useEffect)((function(){e.getVideoSource(o)}),[]),i?r.a.createElement("div",{className:"Player"},r.a.createElement("video",{controls:!0,autoPlay:!0},r.a.createElement("source",{src:n.source,type:"video/mp4"})),r.a.createElement("div",{className:"Player-back"},r.a.createElement("button",{type:"button",onClick:function(){return c.goBack()}},"Regresar"))):r.a.createElement(se,null)})),pe=(n(93),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("a",{href:"/"},"Terminos de uso"),r.a.createElement("a",{href:"/"},"Declaración de privacidad"),r.a.createElement("a",{href:"/"},"Centro de ayuda"))}),fe=function(e){var t=e.children;return r.a.createElement("div",{className:"App"},t,r.a.createElement(pe,null))},de=function(e){var t=e.isLogged;return r.a.createElement(O.a,null,r.a.createElement(fe,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:t?W:ce}),r.a.createElement(s.a,{exact:!0,path:"/auth/google/callback",component:W}),r.a.createElement(s.a,{exact:!0,path:"/login",component:ce}),r.a.createElement(s.a,{exact:!0,path:"/register",component:le}),r.a.createElement(s.a,{exact:!0,path:"/player/:id",component:t?me:ce}),r.a.createElement(s.a,{component:se}))))},Ee=Object(u.a)(),ge=window.__PRELOADED_STATE__,be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,ye=Object(l.d)(y,ge,be(Object(l.a)(m.a)));delete window.__PRELOADED_STATE__,o.a.hydrate(r.a.createElement(i.a,{store:ye},r.a.createElement(s.b,{history:Ee},r.a.createElement(de,{isLogged:ge.user.id}))),document.getElementById("app"))}});